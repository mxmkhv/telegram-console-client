{
  "project": "telegram-console",
  "branchName": "tui-design-refresh",
  "description": "TUI Design Refresh - Visual polish with gradient welcome screen, round borders, and improved typography",
  "designDoc": "docs/plans/2026-01-22-tui-design-refresh.md",
  "guidelines": [
    "docs/design-guidelines.md",
    "docs/performance-guidelines.md"
  ],
  "testCommand": "bun test",
  "typecheckCommand": "bun run typecheck",
  "lintCommand": "bun run lint",
  "userStories": [
    {
      "id": "US-001",
      "title": "Install gradient and big-text dependencies",
      "description": "Add ink-big-text and ink-gradient packages required for the welcome splash screen.",
      "acceptanceCriteria": [
        "Run: bun add ink-big-text ink-gradient",
        "Verify packages appear in package.json dependencies",
        "Typecheck passes: bun run typecheck",
        "Commit changes"
      ],
      "files": {
        "modify": ["package.json"]
      },
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Create WelcomeSplash component",
      "description": "Create a full-screen centered splash screen with gradient 'TELEGRAM CONSOLE' big text, version number, and press-any-key hint.",
      "acceptanceCriteria": [
        "Create src/components/WelcomeSplash.tsx",
        "Use ink-big-text with font='block' for 'TELEGRAM' and 'CONSOLE' on separate lines",
        "Wrap in ink-gradient with colors=['cyan', 'blue']",
        "Show version 'v0.1.0' in dimColor below the big text",
        "Show 'Press any key to continue' in dimColor",
        "Center vertically and horizontally using Box with alignItems='center' justifyContent='center' flexGrow={1}",
        "Accept onContinue prop, call it on any key press via useInput",
        "Create snapshot test in src/components/WelcomeSplash.test.tsx",
        "Typecheck passes",
        "Test passes: bun test",
        "Commit changes"
      ],
      "files": {
        "create": [
          "src/components/WelcomeSplash.tsx",
          "src/components/WelcomeSplash.test.tsx"
        ]
      },
      "priority": 2,
      "passes": false,
      "notes": "Gradient is expensive - only used on this screen, unmounts when entering MainApp"
    },
    {
      "id": "US-003",
      "title": "Update HeaderBar with round borders and focus colors",
      "description": "Change HeaderBar to use round borders with cyan (focused) / blue (unfocused) color scheme.",
      "acceptanceCriteria": [
        "Change borderStyle from 'single' to 'round'",
        "When isFocused=true: borderColor='cyan'",
        "When isFocused=false: borderColor='blue'",
        "Update snapshot test if exists, or create src/components/HeaderBar.test.tsx",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": ["src/components/HeaderBar.tsx"],
        "create": ["src/components/HeaderBar.test.tsx"]
      },
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Update ChatList with round borders and focus colors",
      "description": "Change ChatList to use round borders with cyan/blue focus color scheme and ensure consistent padding.",
      "acceptanceCriteria": [
        "Change outer borderStyle from 'single' to 'round'",
        "When isFocused=true: borderColor='cyan'",
        "When isFocused=false: borderColor='blue'",
        "Keep inner header border as 'single' (divider line)",
        "Unread indicator (‚óè) should be cyan colored",
        "Update or create snapshot test src/components/ChatList.test.tsx",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": ["src/components/ChatList.tsx"],
        "create": ["src/components/ChatList.test.tsx"]
      },
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Update MessageView with round borders, focus colors, and typography",
      "description": "Change MessageView to use round borders, cyan/blue focus colors, and improved message typography hierarchy.",
      "acceptanceCriteria": [
        "Change borderStyle from 'single' to 'round'",
        "When isFocused=true: borderColor='cyan'",
        "When isFocused=false: borderColor='blue'",
        "Keep inner header border as 'single' (divider line)",
        "Sender names: bold (already done)",
        "Timestamps: dimColor, positioned before sender (already done)",
        "Message text: standard white (already done)",
        "Outgoing messages ('You'): cyan color for sender name",
        "Update or create snapshot test src/components/MessageView.test.tsx",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": ["src/components/MessageView.tsx"],
        "create": ["src/components/MessageView.test.tsx"]
      },
      "priority": 5,
      "passes": false,
      "notes": "Typography is mostly correct already - focus on border changes"
    },
    {
      "id": "US-006",
      "title": "Update InputBar with round borders and focus colors",
      "description": "Change InputBar to use round borders with cyan/blue focus color scheme.",
      "acceptanceCriteria": [
        "Change borderStyle from 'single' to 'round'",
        "When isFocused=true: borderColor='cyan'",
        "When isFocused=false: borderColor='blue'",
        "Update or create snapshot test src/components/InputBar.test.tsx",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": ["src/components/InputBar.tsx"],
        "create": ["src/components/InputBar.test.tsx"]
      },
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Update StatusBar with round borders",
      "description": "Change StatusBar to use round borders for visual consistency.",
      "acceptanceCriteria": [
        "Change borderStyle from 'single' to 'round'",
        "Keep existing color scheme (connection status colors)",
        "Update or create snapshot test src/components/StatusBar.test.tsx",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": ["src/components/StatusBar.tsx"],
        "create": ["src/components/StatusBar.test.tsx"]
      },
      "priority": 7,
      "passes": false,
      "notes": "StatusBar doesn't have focus states - just update border style"
    },
    {
      "id": "US-008",
      "title": "Update MediaPanel focus colors",
      "description": "Update MediaPanel to use cyan when focused, blue when unfocused (already has round borders).",
      "acceptanceCriteria": [
        "When isFocused=true: borderColor='cyan'",
        "When isFocused=false: borderColor='blue'",
        "Update header text color to match: cyan when focused, blue when unfocused",
        "Update or create snapshot test src/components/MediaPanel.test.tsx",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": ["src/components/MediaPanel.tsx"],
        "create": ["src/components/MediaPanel.test.tsx"]
      },
      "priority": 8,
      "passes": false,
      "notes": "MediaPanel already has round borders - just update colors"
    },
    {
      "id": "US-009",
      "title": "Integrate WelcomeSplash into App",
      "description": "Replace WelcomeNew and WelcomeBack with the new WelcomeSplash component in the app flow.",
      "acceptanceCriteria": [
        "Import WelcomeSplash in app.tsx",
        "Replace both WelcomeNew and WelcomeBack renders with WelcomeSplash",
        "Pass onContinue={handleWelcomeDismiss} to WelcomeSplash",
        "Remove unused WelcomeNew and WelcomeBack imports",
        "Update src/app.test.tsx to verify welcome splash renders",
        "Typecheck passes",
        "Test passes",
        "Commit changes"
      ],
      "files": {
        "modify": [
          "src/app.tsx",
          "src/app.test.tsx"
        ]
      },
      "priority": 9,
      "passes": false,
      "notes": "WelcomeNew.tsx and WelcomeBack.tsx can be deleted in a future cleanup task"
    },
    {
      "id": "US-010",
      "title": "Final verification and cleanup",
      "description": "Run full test suite, verify visual appearance, and ensure all changes work together.",
      "acceptanceCriteria": [
        "Run full test suite: bun test",
        "Run typecheck: bun run typecheck",
        "Run lint: bun run lint",
        "Manual verification: run app with bun run dev and verify:",
        "  - Welcome splash shows gradient TELEGRAM CONSOLE text",
        "  - All panels have round borders",
        "  - Focused panels have cyan borders",
        "  - Unfocused panels have blue borders",
        "  - Typography hierarchy is clear in MessageView",
        "Delete unused files: WelcomeNew.tsx, WelcomeBack.tsx",
        "Final commit with all cleanup"
      ],
      "files": {
        "delete": [
          "src/components/WelcomeNew.tsx",
          "src/components/WelcomeBack.tsx"
        ]
      },
      "priority": 10,
      "passes": false,
      "notes": "This is a verification and cleanup task - may be quick if all previous tasks passed"
    }
  ],
  "subagentInstructions": {
    "onStart": [
      "Read docs/design-guidelines.md to understand TUI design principles",
      "Read docs/performance-guidelines.md to understand performance constraints",
      "Read docs/plans/2026-01-22-tui-design-refresh.md for the full design specification",
      "Read this task file to find the first task with passes: false",
      "Execute that task following all acceptance criteria"
    ],
    "onComplete": [
      "Update this JSON file: set the completed task's passes to true",
      "Add any notes about issues encountered to the notes field",
      "Commit all changes including the updated JSON file"
    ],
    "commitFormat": "feat(design): <short description of change>"
  }
}
